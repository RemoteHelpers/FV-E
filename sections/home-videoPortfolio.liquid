{{ 'portfolio.css' | asset_url | stylesheet_tag }}
{{ 'magnific-popup.css' | asset_url | stylesheet_tag }}

<section class="portfolio">
        <div class="container">
            <div class="portfolio__inner">
                <h3 class="section-title">
                  {{ section.settings.portfolio_title }}
                </h3>
                <div class="popup-gallery">
                  {% for block in section.blocks %}
                    <div class="popup__gallery-item">
                        <a href="{{ block.settings.video_urlMfp }}" class="video" title="This is a video">
                            <div class="popup-video-wrapper">
                              <iframe class="portfolio__iframe" src="{{ block.settings.video_url }}" poster="{{ block.settings.preview | img_url: 'master' }}" muted="muted"></iframe>
                              <svg class="portfolio__play" width="33" height="38" viewBox="0 0 33 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M31.5 16.4019C33.5 17.5566 33.5 20.4434 31.5 21.5981L4.5 37.1865C2.5 38.3412 1.98328e-06 36.8979 2.08423e-06 34.5885L3.44702e-06 3.41154C3.54796e-06 1.10214 2.5 -0.341234 4.5 0.813467L31.5 16.4019Z" fill="white"/>
                              </svg>
                            </div>
                            <span class="portfolio__item-title">
                              {{ block.settings.portfolio_title }}
                            </span>
                            <span class="portfolio__item-text">
                              {{ block.settings.portfolio_text }} 
                            </span>
                        </a>
                    </div>
                  {% endfor %}
                </div>
            </div>
        </div>
    </section>


    {% schema %}
    {
      "name": "Portfolio",
      
      "settings": [
          {
            "type": "text",
            "id": "portfolio_title",
            "label": "Portfolio title"
          }
      ],
      "blocks": [
          {
            "type": "video",
            "name": "Video",
            "settings": [
              {
                "type": "url",
                "id": "video_urlMfp",
                "label": "Video url Mfp"
              },
              {
                "type": "url",
                "id": "video_url",
                "label": "Video url"
              },
              {
                "type": "image_picker",
                "id": "preview",
                "label": "Preview"
              },
              {
                "type": "text",
                "id": "portfolio_title",
                "label": "Portfolio title",
                "default":"Portfolio title"
              },
              {
                "type": "text",
                "id": "portfolio_text",
                "label": "Portfolio text",
                "default":"Portfolio text"
              }
            ]
          }
      ],
      "presets": [
          {
            "name": "Portfolio-main",
            "category": "card"
          }
      ]
    } 
    {% endschema %}

{% stylesheet %}
{% endstylesheet %}
<!-- {{ 'portfolio.js'  | asset_url | script_tag     }} -->
<script type="text/javascript">
  $(document).ready(function() {
    $('.video').magnificPopup({
    type: 'iframe',
    fixedContentPos: false,
    iframe: {
        markup: '<div class="mfp-iframe-scaler">'+
            '<div class="mfp-close"></div>'+
            '<iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe>'+
          '</div>',
        patterns: {
            youtube: {
                index: 'youtube.com/',
                id: 'v=',
                src: '//www.youtube.com/embed/%id%?autoplay=1'
            }
        }
    }
  });
});




  $(document).ready(function() {
      if ($(window).width() > 700) {

          return
      } else {
          $('.popup-gallery').slick({

              infinite: true,
              dots: true,
              slidesToShow: 1,
              slidesToScroll: 1,
              adaptiveHeight: true

          });

      }
  })


    
</script>
